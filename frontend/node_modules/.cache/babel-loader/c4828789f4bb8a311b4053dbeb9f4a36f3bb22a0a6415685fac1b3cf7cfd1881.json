{"ast":null,"code":"import _toConsumableArray from \"D:/software_data/Project/Y0527/CODE_BAK/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"D:/software_data/Project/Y0527/CODE_BAK/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"D:/software_data/Project/Y0527/CODE_BAK/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/software_data/Project/Y0527/CODE_BAK/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url.to-json.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport * as echarts from 'echarts';\nimport energyEfficiencyApi from '@/api/energyEfficiency';\nimport { formatDateTime, calculateDuration } from '@/utils/dateTime';\nexport default {\n  name: 'EnergyEfficiencyAnalysis',\n  data: function data() {\n    return {\n      // 筛选条件\n      dateRange: [new Date(new Date().getTime() - 30 * 24 * 60 * 60 * 1000), new Date()],\n      selectedStations: [],\n      selectedRobots: [],\n      // 数据列表\n      stations: [],\n      robots: [],\n      // 图表相关\n      currentChart: 'efficiency',\n      currentChartTitle: '充电效率趋势分析',\n      charts: {\n        efficiency: null,\n        consumption: null,\n        utilization: null,\n        robot: null,\n        peak: null\n      },\n      // KPI数据\n      kpiData: [{\n        title: '平均充电效率',\n        value: 0,\n        unit: '%',\n        change: 0,\n        trend: 'up'\n      }, {\n        title: '总能耗',\n        value: 0,\n        unit: 'kWh',\n        change: 0,\n        trend: 'up'\n      }, {\n        title: '充电器利用率',\n        value: 0,\n        unit: '%',\n        change: 0,\n        trend: 'up'\n      }, {\n        title: '平均等待时间',\n        value: 0,\n        unit: 'min',\n        change: 0,\n        trend: 'down'\n      }, {\n        title: '充电成功率',\n        value: 0,\n        unit: '%',\n        change: 0,\n        trend: 'up'\n      }],\n      // 表格数据\n      tableData: [],\n      filteredTableData: [],\n      tableLoading: false,\n      searchQuery: '',\n      currentPage: 1,\n      pageSize: 20,\n      totalItems: 0\n    };\n  },\n  mounted: function mounted() {\n    this.initData();\n  },\n  methods: {\n    initData: function initData() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var stationsResponse, robotsResponse;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return energyEfficiencyApi.getStations();\n            case 3:\n              stationsResponse = _context.sent;\n              _this.stations = stationsResponse.data;\n\n              // 获取机器人列表\n              _context.next = 7;\n              return energyEfficiencyApi.getRobots();\n            case 7:\n              robotsResponse = _context.sent;\n              _this.robots = robotsResponse.data;\n\n              // 获取初始数据\n              _this.fetchKpiData();\n              _this.fetchChartData();\n              _this.fetchTableData();\n              _context.next = 18;\n              break;\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('初始化数据失败:', _context.t0);\n              _this.$message.error('加载数据失败，请重试');\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 14]]);\n      }))();\n    },\n    // 筛选器处理\n    handleDateChange: function handleDateChange() {\n      this.refreshData();\n    },\n    handleStationChange: function handleStationChange() {\n      this.refreshData();\n    },\n    handleRobotChange: function handleRobotChange() {\n      this.refreshData();\n    },\n    // 刷新所有数据\n    refreshData: function refreshData() {\n      this.fetchKpiData();\n      this.fetchChartData();\n      this.fetchTableData();\n    },\n    // 获取KPI数据\n    fetchKpiData: function fetchKpiData() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var params, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              params = _this2.getFilterParams();\n              _context2.next = 4;\n              return energyEfficiencyApi.getKpiData(params);\n            case 4:\n              response = _context2.sent;\n              _this2.kpiData = [{\n                title: '平均充电效率',\n                value: response.data.avgEfficiency.toFixed(2),\n                unit: '%',\n                change: response.data.efficiencyChange.toFixed(2),\n                trend: response.data.efficiencyChange >= 0 ? 'up' : 'down'\n              }, {\n                title: '总能耗',\n                value: response.data.totalEnergy.toFixed(2),\n                unit: 'kWh',\n                change: response.data.energyChange.toFixed(2),\n                trend: response.data.energyChange >= 0 ? 'up' : 'down'\n              }, {\n                title: '充电器利用率',\n                value: response.data.utilization.toFixed(2),\n                unit: '%',\n                change: response.data.utilizationChange.toFixed(2),\n                trend: response.data.utilizationChange >= 0 ? 'up' : 'down'\n              }, {\n                title: '平均等待时间',\n                value: response.data.avgWaitTime.toFixed(2),\n                unit: 'min',\n                change: response.data.waitTimeChange.toFixed(2),\n                trend: response.data.waitTimeChange >= 0 ? 'up' : 'down'\n              }, {\n                title: '充电成功率',\n                value: response.data.successRate.toFixed(2),\n                unit: '%',\n                change: response.data.successRateChange.toFixed(2),\n                trend: response.data.successRateChange >= 0 ? 'up' : 'down'\n              }];\n              _context2.next = 12;\n              break;\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('获取KPI数据失败:', _context2.t0);\n              _this2.$message.error('获取KPI数据失败');\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 8]]);\n      }))();\n    },\n    // 获取图表数据并渲染\n    fetchChartData: function fetchChartData() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var params;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              params = _this3.getFilterParams(); // 根据当前选择的图表类型获取数据\n              _context3.t0 = _this3.currentChart;\n              _context3.next = _context3.t0 === 'efficiency' ? 5 : _context3.t0 === 'consumption' ? 8 : _context3.t0 === 'utilization' ? 11 : _context3.t0 === 'robot' ? 14 : _context3.t0 === 'peak' ? 17 : 20;\n              break;\n            case 5:\n              _context3.next = 7;\n              return _this3.renderEfficiencyChart(params);\n            case 7:\n              return _context3.abrupt(\"break\", 20);\n            case 8:\n              _context3.next = 10;\n              return _this3.renderConsumptionChart(params);\n            case 10:\n              return _context3.abrupt(\"break\", 20);\n            case 11:\n              _context3.next = 13;\n              return _this3.renderUtilizationChart(params);\n            case 13:\n              return _context3.abrupt(\"break\", 20);\n            case 14:\n              _context3.next = 16;\n              return _this3.renderRobotChart(params);\n            case 16:\n              return _context3.abrupt(\"break\", 20);\n            case 17:\n              _context3.next = 19;\n              return _this3.renderPeakChart(params);\n            case 19:\n              return _context3.abrupt(\"break\", 20);\n            case 20:\n              _context3.next = 26;\n              break;\n            case 22:\n              _context3.prev = 22;\n              _context3.t1 = _context3[\"catch\"](0);\n              console.error('获取图表数据失败:', _context3.t1);\n              _this3.$message.error('获取图表数据失败');\n            case 26:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[0, 22]]);\n      }))();\n    },\n    // 充电效率趋势图\n    renderEfficiencyChart: function renderEfficiencyChart(params) {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response, option;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return energyEfficiencyApi.getEfficiencyTrend(params);\n            case 2:\n              response = _context4.sent;\n              if (!_this4.charts.efficiency) {\n                _this4.charts.efficiency = echarts.init(_this4.$refs.efficiencyChart);\n              }\n              option = {\n                title: {\n                  text: '充电效率趋势分析'\n                },\n                tooltip: {\n                  trigger: 'axis'\n                },\n                legend: {\n                  data: response.data.stations.map(function (station) {\n                    return station.name;\n                  })\n                },\n                grid: {\n                  left: '3%',\n                  right: '4%',\n                  bottom: '3%',\n                  containLabel: true\n                },\n                xAxis: {\n                  type: 'category',\n                  boundaryGap: false,\n                  data: response.data.timeline\n                },\n                yAxis: {\n                  type: 'value',\n                  name: '充电效率 (%)',\n                  min: 50,\n                  max: 100\n                },\n                series: response.data.stations.map(function (station) {\n                  return {\n                    name: station.name,\n                    type: 'line',\n                    data: station.efficiencyData,\n                    smooth: true\n                  };\n                })\n              };\n              _this4.charts.efficiency.setOption(option);\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }))();\n    },\n    // 能耗分布热力图\n    renderConsumptionChart: function renderConsumptionChart(params) {\n      var _this5 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response, hours, days, option;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return energyEfficiencyApi.getEnergyConsumptionDistribution(params);\n            case 2:\n              response = _context5.sent;\n              if (!_this5.charts.consumption) {\n                _this5.charts.consumption = echarts.init(_this5.$refs.consumptionChart);\n              }\n              hours = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'];\n              days = response.data.days;\n              option = {\n                title: {\n                  text: '能耗分布热力图'\n                },\n                tooltip: {\n                  position: 'top',\n                  formatter: function formatter(params) {\n                    return \"\".concat(params.data[1], \":00 - \").concat(params.data[1] + 1, \":00<br>\\u65E5\\u671F: \").concat(params.data[0], \"<br>\\u80FD\\u8017: \").concat(params.data[2].toFixed(2), \" kWh\");\n                  }\n                },\n                grid: {\n                  height: '70%',\n                  top: '10%'\n                },\n                xAxis: {\n                  type: 'category',\n                  data: hours,\n                  splitArea: {\n                    show: true\n                  },\n                  axisLabel: {\n                    formatter: '{value}:00'\n                  }\n                },\n                yAxis: {\n                  type: 'category',\n                  data: days,\n                  splitArea: {\n                    show: true\n                  }\n                },\n                visualMap: {\n                  min: 0,\n                  max: response.data.maxValue,\n                  calculable: true,\n                  orient: 'horizontal',\n                  left: 'center',\n                  bottom: '5%',\n                  color: ['#d94e5d', '#eac736', '#50a3ba']\n                },\n                series: [{\n                  name: '能耗 (kWh)',\n                  type: 'heatmap',\n                  data: response.data.data,\n                  label: {\n                    show: false\n                  },\n                  emphasis: {\n                    itemStyle: {\n                      shadowBlur: 10,\n                      shadowColor: 'rgba(0, 0, 0, 0.5)'\n                    }\n                  }\n                }]\n              };\n              _this5.charts.consumption.setOption(option);\n            case 8:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5);\n      }))();\n    },\n    // 充电站利用率对比\n    renderUtilizationChart: function renderUtilizationChart(params) {\n      var _this6 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var response, option;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return energyEfficiencyApi.getStationUtilization(params);\n            case 2:\n              response = _context6.sent;\n              if (!_this6.charts.utilization) {\n                _this6.charts.utilization = echarts.init(_this6.$refs.utilizationChart);\n              }\n              option = {\n                title: {\n                  text: '充电站利用率对比'\n                },\n                tooltip: {\n                  trigger: 'axis',\n                  axisPointer: {\n                    type: 'shadow'\n                  }\n                },\n                legend: {\n                  data: ['忙碌时间', '空闲时间', '维护时间', '故障时间']\n                },\n                grid: {\n                  left: '3%',\n                  right: '4%',\n                  bottom: '3%',\n                  containLabel: true\n                },\n                xAxis: {\n                  type: 'value',\n                  name: '小时',\n                  max: 24\n                },\n                yAxis: {\n                  type: 'category',\n                  data: response.data.map(function (item) {\n                    return item.stationName;\n                  })\n                },\n                series: [{\n                  name: '忙碌时间',\n                  type: 'bar',\n                  stack: 'total',\n                  label: {\n                    show: true\n                  },\n                  emphasis: {\n                    focus: 'series'\n                  },\n                  data: response.data.map(function (item) {\n                    return item.busyHours;\n                  })\n                }, {\n                  name: '空闲时间',\n                  type: 'bar',\n                  stack: 'total',\n                  label: {\n                    show: true\n                  },\n                  emphasis: {\n                    focus: 'series'\n                  },\n                  data: response.data.map(function (item) {\n                    return item.idleHours;\n                  })\n                }, {\n                  name: '维护时间',\n                  type: 'bar',\n                  stack: 'total',\n                  label: {\n                    show: true\n                  },\n                  emphasis: {\n                    focus: 'series'\n                  },\n                  data: response.data.map(function (item) {\n                    return item.maintenanceHours;\n                  })\n                }, {\n                  name: '故障时间',\n                  type: 'bar',\n                  stack: 'total',\n                  label: {\n                    show: true\n                  },\n                  emphasis: {\n                    focus: 'series'\n                  },\n                  data: response.data.map(function (item) {\n                    return item.errorHours;\n                  })\n                }]\n              };\n              _this6.charts.utilization.setOption(option);\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6);\n      }))();\n    },\n    // 机器人充电行为分析\n    renderRobotChart: function renderRobotChart(params) {\n      var _this7 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var response, option;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return energyEfficiencyApi.getRobotChargingBehavior(params);\n            case 2:\n              response = _context7.sent;\n              if (!_this7.charts.robot) {\n                _this7.charts.robot = echarts.init(_this7.$refs.robotChart);\n              }\n              option = {\n                title: {\n                  text: '机器人充电行为分析'\n                },\n                tooltip: {\n                  trigger: 'axis'\n                },\n                legend: {\n                  data: ['充电次数', '平均充电时长', '平均等待时间']\n                },\n                grid: {\n                  left: '3%',\n                  right: '4%',\n                  bottom: '3%',\n                  containLabel: true\n                },\n                xAxis: [{\n                  type: 'category',\n                  data: response.data.robots.map(function (robot) {\n                    return robot.name;\n                  }),\n                  axisPointer: {\n                    type: 'shadow'\n                  }\n                }],\n                yAxis: [{\n                  type: 'value',\n                  name: '次数',\n                  min: 0,\n                  axisLabel: {\n                    formatter: '{value}'\n                  }\n                }, {\n                  type: 'value',\n                  name: '时间 (分钟)',\n                  min: 0,\n                  axisLabel: {\n                    formatter: '{value} min'\n                  }\n                }],\n                series: [{\n                  name: '充电次数',\n                  type: 'bar',\n                  data: response.data.robots.map(function (robot) {\n                    return robot.chargingCount;\n                  })\n                }, {\n                  name: '平均充电时长',\n                  type: 'line',\n                  yAxisIndex: 1,\n                  data: response.data.robots.map(function (robot) {\n                    return robot.avgChargingDuration;\n                  })\n                }, {\n                  name: '平均等待时间',\n                  type: 'line',\n                  yAxisIndex: 1,\n                  data: response.data.robots.map(function (robot) {\n                    return robot.avgWaitingTime;\n                  })\n                }]\n              };\n              _this7.charts.robot.setOption(option);\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7);\n      }))();\n    },\n    // 充电高峰期分析\n    renderPeakChart: function renderPeakChart(params) {\n      var _this8 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var response, option;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return energyEfficiencyApi.getChargingPeakAnalysis(params);\n            case 2:\n              response = _context8.sent;\n              if (!_this8.charts.peak) {\n                _this8.charts.peak = echarts.init(_this8.$refs.peakChart);\n              }\n              option = {\n                title: {\n                  text: '充电高峰期分析'\n                },\n                tooltip: {\n                  trigger: 'axis',\n                  axisPointer: {\n                    type: 'shadow'\n                  }\n                },\n                legend: {\n                  data: ['充电请求数', '平均等待时间']\n                },\n                grid: {\n                  left: '3%',\n                  right: '4%',\n                  bottom: '3%',\n                  containLabel: true\n                },\n                xAxis: [{\n                  type: 'category',\n                  data: ['0-2', '2-4', '4-6', '6-8', '8-10', '10-12', '12-14', '14-16', '16-18', '18-20', '20-22', '22-24'],\n                  axisLabel: {\n                    formatter: '{value}时'\n                  }\n                }],\n                yAxis: [{\n                  type: 'value',\n                  name: '请求数',\n                  min: 0,\n                  axisLabel: {\n                    formatter: '{value}'\n                  }\n                }, {\n                  type: 'value',\n                  name: '等待时间 (分钟)',\n                  min: 0,\n                  axisLabel: {\n                    formatter: '{value} min'\n                  }\n                }],\n                series: [{\n                  name: '充电请求数',\n                  type: 'bar',\n                  data: response.data.requestCounts\n                }, {\n                  name: '平均等待时间',\n                  type: 'line',\n                  yAxisIndex: 1,\n                  data: response.data.avgWaitingTimes\n                }]\n              };\n              _this8.charts.peak.setOption(option);\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8);\n      }))();\n    },\n    // 获取表格数据\n    fetchTableData: function fetchTableData() {\n      var _this9 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var params, response;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _this9.tableLoading = true;\n              _context9.prev = 1;\n              params = _objectSpread(_objectSpread({}, _this9.getFilterParams()), {}, {\n                page: _this9.currentPage,\n                pageSize: _this9.pageSize,\n                query: _this9.searchQuery\n              });\n              _context9.next = 5;\n              return energyEfficiencyApi.getChargingEvents(params);\n            case 5:\n              response = _context9.sent;\n              _this9.tableData = response.data.items.map(function (item) {\n                return {\n                  id: item.id,\n                  robotName: item.robotName,\n                  stationName: item.stationName,\n                  startTime: formatDateTime(item.startTime),\n                  endTime: formatDateTime(item.endTime),\n                  duration: calculateDuration(item.startTime, item.endTime),\n                  energyConsumed: item.energyConsumed ? item.energyConsumed.toFixed(2) : '-',\n                  efficiency: item.efficiency ? item.efficiency.toFixed(2) : '-',\n                  status: item.status\n                };\n              });\n              _this9.filteredTableData = _toConsumableArray(_this9.tableData);\n              _this9.totalItems = response.data.pagination.totalItems;\n              _context9.next = 15;\n              break;\n            case 11:\n              _context9.prev = 11;\n              _context9.t0 = _context9[\"catch\"](1);\n              console.error('获取表格数据失败:', _context9.t0);\n              _this9.$message.error('获取表格数据失败');\n            case 15:\n              _context9.prev = 15;\n              _this9.tableLoading = false;\n              return _context9.finish(15);\n            case 18:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, null, [[1, 11, 15, 18]]);\n      }))();\n    },\n    // 获取筛选参数\n    getFilterParams: function getFilterParams() {\n      return {\n        startDate: this.dateRange[0] ? this.dateRange[0].toISOString() : null,\n        endDate: this.dateRange[1] ? this.dateRange[1].toISOString() : null,\n        stationIds: this.selectedStations.length > 0 ? this.selectedStations : null,\n        robotIds: this.selectedRobots.length > 0 ? this.selectedRobots : null\n      };\n    },\n    // 处理图表切换\n    handleChartChange: function handleChartChange(chartType) {\n      var titles = {\n        efficiency: '充电效率趋势分析',\n        consumption: '能耗分布热力图',\n        utilization: '充电站利用率对比',\n        robot: '机器人充电行为分析',\n        peak: '充电高峰期分析'\n      };\n      this.currentChartTitle = titles[chartType];\n      this.fetchChartData();\n    },\n    // 处理搜索\n    handleSearch: function handleSearch() {\n      if (!this.searchQuery) {\n        this.filteredTableData = _toConsumableArray(this.tableData);\n        return;\n      }\n      var query = this.searchQuery.toLowerCase();\n      this.filteredTableData = this.tableData.filter(function (item) {\n        return item.id.toString().includes(query) || item.robotName.toLowerCase().includes(query) || item.stationName.toLowerCase().includes(query) || item.status.toLowerCase().includes(query);\n      });\n    },\n    // 分页处理\n    handleSizeChange: function handleSizeChange(size) {\n      this.pageSize = size;\n      this.fetchTableData();\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.currentPage = page;\n      this.fetchTableData();\n    },\n    // 状态样式\n    getStatusType: function getStatusType(status) {\n      var types = {\n        'charging': 'warning',\n        'completed': 'success',\n        'failed': 'danger'\n      };\n      return types[status] || 'info';\n    },\n    // 数据导出\n    exportData: function exportData(type) {\n      var _this0 = this;\n      var params = _objectSpread(_objectSpread({}, this.getFilterParams()), {}, {\n        exportType: type\n      });\n      energyEfficiencyApi.exportData(params).then(function (response) {\n        var url = window.URL.createObjectURL(new Blob([response.data]));\n        var link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', \"\\u80FD\\u6548\\u5206\\u6790_\".concat(new Date().toISOString().split('T')[0], \".\").concat(type));\n        document.body.appendChild(link);\n        link.click();\n      })[\"catch\"](function (error) {\n        console.error('导出数据失败:', error);\n        _this0.$message.error('导出数据失败');\n      });\n    }\n  }\n};","map":{"version":3,"names":["echarts","energyEfficiencyApi","formatDateTime","calculateDuration","name","data","dateRange","Date","getTime","selectedStations","selectedRobots","stations","robots","currentChart","currentChartTitle","charts","efficiency","consumption","utilization","robot","peak","kpiData","title","value","unit","change","trend","tableData","filteredTableData","tableLoading","searchQuery","currentPage","pageSize","totalItems","mounted","initData","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","stationsResponse","robotsResponse","wrap","_callee$","_context","prev","next","getStations","sent","getRobots","fetchKpiData","fetchChartData","fetchTableData","t0","console","error","$message","stop","handleDateChange","refreshData","handleStationChange","handleRobotChange","_this2","_callee2","params","response","_callee2$","_context2","getFilterParams","getKpiData","avgEfficiency","toFixed","efficiencyChange","totalEnergy","energyChange","utilizationChange","avgWaitTime","waitTimeChange","successRate","successRateChange","_this3","_callee3","_callee3$","_context3","renderEfficiencyChart","abrupt","renderConsumptionChart","renderUtilizationChart","renderRobotChart","renderPeakChart","t1","_this4","_callee4","option","_callee4$","_context4","getEfficiencyTrend","init","$refs","efficiencyChart","text","tooltip","trigger","legend","map","station","grid","left","right","bottom","containLabel","xAxis","type","boundaryGap","timeline","yAxis","min","max","series","efficiencyData","smooth","setOption","_this5","_callee5","hours","days","_callee5$","_context5","getEnergyConsumptionDistribution","consumptionChart","position","formatter","concat","height","top","splitArea","show","axisLabel","visualMap","maxValue","calculable","orient","color","label","emphasis","itemStyle","shadowBlur","shadowColor","_this6","_callee6","_callee6$","_context6","getStationUtilization","utilizationChart","axisPointer","item","stationName","stack","focus","busyHours","idleHours","maintenanceHours","errorHours","_this7","_callee7","_callee7$","_context7","getRobotChargingBehavior","robotChart","chargingCount","yAxisIndex","avgChargingDuration","avgWaitingTime","_this8","_callee8","_callee8$","_context8","getChargingPeakAnalysis","peakChart","requestCounts","avgWaitingTimes","_this9","_callee9","_callee9$","_context9","_objectSpread","page","query","getChargingEvents","items","id","robotName","startTime","endTime","duration","energyConsumed","status","_toConsumableArray","pagination","finish","startDate","toISOString","endDate","stationIds","length","robotIds","handleChartChange","chartType","titles","handleSearch","toLowerCase","filter","toString","includes","handleSizeChange","size","handleCurrentChange","getStatusType","types","exportData","_this0","exportType","then","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","split","body","appendChild","click"],"sources":["D:\\software_data\\Project\\Y0527\\CODE_BAK\\frontend\\src\\views\\EnergyEfficiency.vue"],"sourcesContent":["<template>\r\n  <div class=\"energy-efficiency-analysis\">\r\n    <!-- 筛选器部分 -->\r\n    <el-card class=\"filter-container\">\r\n      <div class=\"filter-row\">\r\n        <div class=\"date-picker\">\r\n          <el-date-picker\r\n            v-model=\"dateRange\"\r\n            type=\"daterange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            @change=\"handleDateChange\"\r\n          />\r\n        </div>\r\n        <div class=\"station-filter\">\r\n          <el-select\r\n            v-model=\"selectedStations\"\r\n            multiple\r\n            placeholder=\"选择充电站\"\r\n            @change=\"handleStationChange\"\r\n          >\r\n            <el-option\r\n              v-for=\"station in stations\"\r\n              :key=\"station.id\"\r\n              :label=\"station.name\"\r\n              :value=\"station.id\"\r\n            />\r\n          </el-select>\r\n        </div>\r\n        <div class=\"robot-filter\">\r\n          <el-select\r\n            v-model=\"selectedRobots\"\r\n            multiple\r\n            placeholder=\"选择机器人\"\r\n            @change=\"handleRobotChange\"\r\n          >\r\n            <el-option\r\n              v-for=\"robot in robots\"\r\n              :key=\"robot.id\"\r\n              :label=\"robot.name\"\r\n              :value=\"robot.id\"\r\n            />\r\n          </el-select>\r\n        </div>\r\n        <div class=\"export-buttons\">\r\n          <el-button type=\"primary\" @click=\"exportData('csv')\">\r\n            导出CSV\r\n          </el-button>\r\n          <el-button type=\"success\" @click=\"exportData('excel')\">\r\n            导出Excel\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- KPI指标卡片 -->\r\n    <el-row :gutter=\"20\" class=\"kpi-container\">\r\n      <el-col :span=\"4\" v-for=\"(kpi, index) in kpiData\" :key=\"index\">\r\n        <el-card class=\"kpi-card\">\r\n          <div class=\"kpi-title\">{{ kpi.title }}</div>\r\n          <div class=\"kpi-value\">{{ kpi.value }}{{ kpi.unit }}</div>\r\n          <div class=\"kpi-change\" :class=\"kpi.trend\">\r\n            <i :class=\"kpi.trend === 'up' ? 'el-icon-top' : 'el-icon-bottom'\"></i>\r\n            {{ kpi.change }}%\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 分析图表区域 -->\r\n    <el-card class=\"chart-container\">\r\n      <div class=\"chart-header\">\r\n        <h3>{{ currentChartTitle }}</h3>\r\n        <el-radio-group v-model=\"currentChart\" @change=\"handleChartChange\">\r\n          <el-radio-button label=\"efficiency\">充电效率趋势</el-radio-button>\r\n          <el-radio-button label=\"consumption\">能耗分布</el-radio-button>\r\n          <el-radio-button label=\"utilization\">充电站利用率</el-radio-button>\r\n          <el-radio-button label=\"robot\">机器人充电分析</el-radio-button>\r\n          <el-radio-button label=\"peak\">充电高峰期</el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n      <div class=\"chart-content\">\r\n        <!-- 不同图表的容器 -->\r\n        <div v-show=\"currentChart === 'efficiency'\" class=\"chart-item\">\r\n          <div ref=\"efficiencyChart\" class=\"chart\"></div>\r\n        </div>\r\n        <div v-show=\"currentChart === 'consumption'\" class=\"chart-item\">\r\n          <div ref=\"consumptionChart\" class=\"chart\"></div>\r\n        </div>\r\n        <div v-show=\"currentChart === 'utilization'\" class=\"chart-item\">\r\n          <div ref=\"utilizationChart\" class=\"chart\"></div>\r\n        </div>\r\n        <div v-show=\"currentChart === 'robot'\" class=\"chart-item\">\r\n          <div ref=\"robotChart\" class=\"chart\"></div>\r\n        </div>\r\n        <div v-show=\"currentChart === 'peak'\" class=\"chart-item\">\r\n          <div ref=\"peakChart\" class=\"chart\"></div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 详细数据表格 -->\r\n    <el-card class=\"table-container\">\r\n      <div class=\"table-header\">\r\n        <h3>充电事件详情</h3>\r\n        <el-input\r\n          placeholder=\"搜索\"\r\n          v-model=\"searchQuery\"\r\n          class=\"search-input\"\r\n          @input=\"handleSearch\"\r\n        >\r\n          <template #prefix>\r\n            <i class=\"el-icon-search\"></i>\r\n          </template>\r\n        </el-input>\r\n      </div>\r\n      <el-table\r\n        :data=\"filteredTableData\"\r\n        style=\"width: 100%\"\r\n        :height=\"400\"\r\n        v-loading=\"tableLoading\"\r\n      >\r\n        <el-table-column prop=\"id\" label=\"订单ID\" width=\"80\" />\r\n        <el-table-column prop=\"robotName\" label=\"机器人\" width=\"120\" />\r\n        <el-table-column prop=\"stationName\" label=\"充电站\" width=\"120\" />\r\n        <el-table-column prop=\"startTime\" label=\"开始时间\" width=\"180\" />\r\n        <el-table-column prop=\"endTime\" label=\"结束时间\" width=\"180\" />\r\n        <el-table-column prop=\"duration\" label=\"持续时间\" width=\"100\" />\r\n        <el-table-column prop=\"energyConsumed\" label=\"能耗 (kWh)\" width=\"120\" />\r\n        <el-table-column prop=\"efficiency\" label=\"效率 (%)\" width=\"100\" />\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getStatusType(scope.row.status)\">\r\n              {{ scope.row.status }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n          background\r\n          layout=\"prev, pager, next, sizes, total\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"pageSize\"\r\n          :total=\"totalItems\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\nimport energyEfficiencyApi from '@/api/energyEfficiency';\r\nimport { formatDateTime, calculateDuration } from '@/utils/dateTime';\r\n\r\nexport default {\r\n  name: 'EnergyEfficiencyAnalysis',\r\n  data() {\r\n    return {\r\n      // 筛选条件\r\n      dateRange: [new Date(new Date().getTime() - 30 * 24 * 60 * 60 * 1000), new Date()],\r\n      selectedStations: [],\r\n      selectedRobots: [],\r\n      \r\n      // 数据列表\r\n      stations: [],\r\n      robots: [],\r\n      \r\n      // 图表相关\r\n      currentChart: 'efficiency',\r\n      currentChartTitle: '充电效率趋势分析',\r\n      charts: {\r\n        efficiency: null,\r\n        consumption: null,\r\n        utilization: null,\r\n        robot: null,\r\n        peak: null\r\n      },\r\n      \r\n      // KPI数据\r\n      kpiData: [\r\n        { title: '平均充电效率', value: 0, unit: '%', change: 0, trend: 'up' },\r\n        { title: '总能耗', value: 0, unit: 'kWh', change: 0, trend: 'up' },\r\n        { title: '充电器利用率', value: 0, unit: '%', change: 0, trend: 'up' },\r\n        { title: '平均等待时间', value: 0, unit: 'min', change: 0, trend: 'down' },\r\n        { title: '充电成功率', value: 0, unit: '%', change: 0, trend: 'up' }\r\n      ],\r\n      \r\n      // 表格数据\r\n      tableData: [],\r\n      filteredTableData: [],\r\n      tableLoading: false,\r\n      searchQuery: '',\r\n      currentPage: 1,\r\n      pageSize: 20,\r\n      totalItems: 0\r\n    };\r\n  },\r\n  \r\n  mounted() {\r\n    this.initData();\r\n  },\r\n  \r\n  methods: {\r\n    async initData() {\r\n      try {\r\n        // 获取充电站列表\r\n        const stationsResponse = await energyEfficiencyApi.getStations();\r\n        this.stations = stationsResponse.data;\r\n        \r\n        // 获取机器人列表\r\n        const robotsResponse = await energyEfficiencyApi.getRobots();\r\n        this.robots = robotsResponse.data;\r\n        \r\n        // 获取初始数据\r\n        this.fetchKpiData();\r\n        this.fetchChartData();\r\n        this.fetchTableData();\r\n      } catch (error) {\r\n        console.error('初始化数据失败:', error);\r\n        this.$message.error('加载数据失败，请重试');\r\n      }\r\n    },\r\n    \r\n    // 筛选器处理\r\n    handleDateChange() {\r\n      this.refreshData();\r\n    },\r\n    \r\n    handleStationChange() {\r\n      this.refreshData();\r\n    },\r\n    \r\n    handleRobotChange() {\r\n      this.refreshData();\r\n    },\r\n    \r\n    // 刷新所有数据\r\n    refreshData() {\r\n      this.fetchKpiData();\r\n      this.fetchChartData();\r\n      this.fetchTableData();\r\n    },\r\n    \r\n    // 获取KPI数据\r\n    async fetchKpiData() {\r\n      try {\r\n        const params = this.getFilterParams();\r\n        const response = await energyEfficiencyApi.getKpiData(params);\r\n        \r\n        this.kpiData = [\r\n          { \r\n            title: '平均充电效率', \r\n            value: response.data.avgEfficiency.toFixed(2), \r\n            unit: '%', \r\n            change: response.data.efficiencyChange.toFixed(2), \r\n            trend: response.data.efficiencyChange >= 0 ? 'up' : 'down' \r\n          },\r\n          { \r\n            title: '总能耗', \r\n            value: response.data.totalEnergy.toFixed(2), \r\n            unit: 'kWh', \r\n            change: response.data.energyChange.toFixed(2), \r\n            trend: response.data.energyChange >= 0 ? 'up' : 'down' \r\n          },\r\n          { \r\n            title: '充电器利用率', \r\n            value: response.data.utilization.toFixed(2), \r\n            unit: '%', \r\n            change: response.data.utilizationChange.toFixed(2), \r\n            trend: response.data.utilizationChange >= 0 ? 'up' : 'down' \r\n          },\r\n          { \r\n            title: '平均等待时间', \r\n            value: response.data.avgWaitTime.toFixed(2), \r\n            unit: 'min', \r\n            change: response.data.waitTimeChange.toFixed(2), \r\n            trend: response.data.waitTimeChange >= 0 ? 'up' : 'down' \r\n          },\r\n          { \r\n            title: '充电成功率', \r\n            value: response.data.successRate.toFixed(2), \r\n            unit: '%', \r\n            change: response.data.successRateChange.toFixed(2), \r\n            trend: response.data.successRateChange >= 0 ? 'up' : 'down' \r\n          }\r\n        ];\r\n      } catch (error) {\r\n        console.error('获取KPI数据失败:', error);\r\n        this.$message.error('获取KPI数据失败');\r\n      }\r\n    },\r\n    \r\n    // 获取图表数据并渲染\r\n    async fetchChartData() {\r\n      try {\r\n        const params = this.getFilterParams();\r\n        \r\n        // 根据当前选择的图表类型获取数据\r\n        switch (this.currentChart) {\r\n          case 'efficiency':\r\n            await this.renderEfficiencyChart(params);\r\n            break;\r\n          case 'consumption':\r\n            await this.renderConsumptionChart(params);\r\n            break;\r\n          case 'utilization':\r\n            await this.renderUtilizationChart(params);\r\n            break;\r\n          case 'robot':\r\n            await this.renderRobotChart(params);\r\n            break;\r\n          case 'peak':\r\n            await this.renderPeakChart(params);\r\n            break;\r\n        }\r\n      } catch (error) {\r\n        console.error('获取图表数据失败:', error);\r\n        this.$message.error('获取图表数据失败');\r\n      }\r\n    },\r\n    \r\n    // 充电效率趋势图\r\n    async renderEfficiencyChart(params) {\r\n      const response = await energyEfficiencyApi.getEfficiencyTrend(params);\r\n      \r\n      if (!this.charts.efficiency) {\r\n        this.charts.efficiency = echarts.init(this.$refs.efficiencyChart);\r\n      }\r\n      \r\n      const option = {\r\n        title: {\r\n          text: '充电效率趋势分析'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: response.data.stations.map(station => station.name)\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: response.data.timeline\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          name: '充电效率 (%)',\r\n          min: 50,\r\n          max: 100\r\n        },\r\n        series: response.data.stations.map(station => ({\r\n          name: station.name,\r\n          type: 'line',\r\n          data: station.efficiencyData,\r\n          smooth: true\r\n        }))\r\n      };\r\n      \r\n      this.charts.efficiency.setOption(option);\r\n    },\r\n    \r\n    // 能耗分布热力图\r\n    async renderConsumptionChart(params) {\r\n      const response = await energyEfficiencyApi.getEnergyConsumptionDistribution(params);\r\n      \r\n      if (!this.charts.consumption) {\r\n        this.charts.consumption = echarts.init(this.$refs.consumptionChart);\r\n      }\r\n      \r\n      const hours = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'];\r\n      const days = response.data.days;\r\n      \r\n      const option = {\r\n        title: {\r\n          text: '能耗分布热力图'\r\n        },\r\n        tooltip: {\r\n          position: 'top',\r\n          formatter: function (params) {\r\n            return `${params.data[1]}:00 - ${params.data[1] + 1}:00<br>日期: ${params.data[0]}<br>能耗: ${params.data[2].toFixed(2)} kWh`;\r\n          }\r\n        },\r\n        grid: {\r\n          height: '70%',\r\n          top: '10%'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: hours,\r\n          splitArea: {\r\n            show: true\r\n          },\r\n          axisLabel: {\r\n            formatter: '{value}:00'\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: days,\r\n          splitArea: {\r\n            show: true\r\n          }\r\n        },\r\n        visualMap: {\r\n          min: 0,\r\n          max: response.data.maxValue,\r\n          calculable: true,\r\n          orient: 'horizontal',\r\n          left: 'center',\r\n          bottom: '5%',\r\n          color: ['#d94e5d', '#eac736', '#50a3ba']\r\n        },\r\n        series: [{\r\n          name: '能耗 (kWh)',\r\n          type: 'heatmap',\r\n          data: response.data.data,\r\n          label: {\r\n            show: false\r\n          },\r\n          emphasis: {\r\n            itemStyle: {\r\n              shadowBlur: 10,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          }\r\n        }]\r\n      };\r\n      \r\n      this.charts.consumption.setOption(option);\r\n    },\r\n    \r\n    // 充电站利用率对比\r\n    async renderUtilizationChart(params) {\r\n      const response = await energyEfficiencyApi.getStationUtilization(params);\r\n      \r\n      if (!this.charts.utilization) {\r\n        this.charts.utilization = echarts.init(this.$refs.utilizationChart);\r\n      }\r\n      \r\n      const option = {\r\n        title: {\r\n          text: '充电站利用率对比'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        legend: {\r\n          data: ['忙碌时间', '空闲时间', '维护时间', '故障时间']\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'value',\r\n          name: '小时',\r\n          max: 24\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: response.data.map(item => item.stationName)\r\n        },\r\n        series: [\r\n          {\r\n            name: '忙碌时间',\r\n            type: 'bar',\r\n            stack: 'total',\r\n            label: {\r\n              show: true\r\n            },\r\n            emphasis: {\r\n              focus: 'series'\r\n            },\r\n            data: response.data.map(item => item.busyHours)\r\n          },\r\n          {\r\n            name: '空闲时间',\r\n            type: 'bar',\r\n            stack: 'total',\r\n            label: {\r\n              show: true\r\n            },\r\n            emphasis: {\r\n              focus: 'series'\r\n            },\r\n            data: response.data.map(item => item.idleHours)\r\n          },\r\n          {\r\n            name: '维护时间',\r\n            type: 'bar',\r\n            stack: 'total',\r\n            label: {\r\n              show: true\r\n            },\r\n            emphasis: {\r\n              focus: 'series'\r\n            },\r\n            data: response.data.map(item => item.maintenanceHours)\r\n          },\r\n          {\r\n            name: '故障时间',\r\n            type: 'bar',\r\n            stack: 'total',\r\n            label: {\r\n              show: true\r\n            },\r\n            emphasis: {\r\n              focus: 'series'\r\n            },\r\n            data: response.data.map(item => item.errorHours)\r\n          }\r\n        ]\r\n      };\r\n      \r\n      this.charts.utilization.setOption(option);\r\n    },\r\n    \r\n    // 机器人充电行为分析\r\n    async renderRobotChart(params) {\r\n      const response = await energyEfficiencyApi.getRobotChargingBehavior(params);\r\n      \r\n      if (!this.charts.robot) {\r\n        this.charts.robot = echarts.init(this.$refs.robotChart);\r\n      }\r\n      \r\n      const option = {\r\n        title: {\r\n          text: '机器人充电行为分析'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: ['充电次数', '平均充电时长', '平均等待时间']\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: response.data.robots.map(robot => robot.name),\r\n            axisPointer: {\r\n              type: 'shadow'\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            name: '次数',\r\n            min: 0,\r\n            axisLabel: {\r\n              formatter: '{value}'\r\n            }\r\n          },\r\n          {\r\n            type: 'value',\r\n            name: '时间 (分钟)',\r\n            min: 0,\r\n            axisLabel: {\r\n              formatter: '{value} min'\r\n            }\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '充电次数',\r\n            type: 'bar',\r\n            data: response.data.robots.map(robot => robot.chargingCount)\r\n          },\r\n          {\r\n            name: '平均充电时长',\r\n            type: 'line',\r\n            yAxisIndex: 1,\r\n            data: response.data.robots.map(robot => robot.avgChargingDuration)\r\n          },\r\n          {\r\n            name: '平均等待时间',\r\n            type: 'line',\r\n            yAxisIndex: 1,\r\n            data: response.data.robots.map(robot => robot.avgWaitingTime)\r\n          }\r\n        ]\r\n      };\r\n      \r\n      this.charts.robot.setOption(option);\r\n    },\r\n    \r\n    // 充电高峰期分析\r\n    async renderPeakChart(params) {\r\n      const response = await energyEfficiencyApi.getChargingPeakAnalysis(params);\r\n      \r\n      if (!this.charts.peak) {\r\n        this.charts.peak = echarts.init(this.$refs.peakChart);\r\n      }\r\n      \r\n      const option = {\r\n        title: {\r\n          text: '充电高峰期分析'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        legend: {\r\n          data: ['充电请求数', '平均等待时间']\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: ['0-2', '2-4', '4-6', '6-8', '8-10', '10-12', '12-14', '14-16', '16-18', '18-20', '20-22', '22-24'],\r\n            axisLabel: {\r\n              formatter: '{value}时'\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            name: '请求数',\r\n            min: 0,\r\n            axisLabel: {\r\n              formatter: '{value}'\r\n            }\r\n          },\r\n          {\r\n            type: 'value',\r\n            name: '等待时间 (分钟)',\r\n            min: 0,\r\n            axisLabel: {\r\n              formatter: '{value} min'\r\n            }\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '充电请求数',\r\n            type: 'bar',\r\n            data: response.data.requestCounts\r\n          },\r\n          {\r\n            name: '平均等待时间',\r\n            type: 'line',\r\n            yAxisIndex: 1,\r\n            data: response.data.avgWaitingTimes\r\n          }\r\n        ]\r\n      };\r\n      \r\n      this.charts.peak.setOption(option);\r\n    },\r\n    \r\n    // 获取表格数据\r\n    async fetchTableData() {\r\n      this.tableLoading = true;\r\n      try {\r\n        const params = {\r\n          ...this.getFilterParams(),\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          query: this.searchQuery\r\n        };\r\n        \r\n        const response = await energyEfficiencyApi.getChargingEvents(params);\r\n        \r\n        this.tableData = response.data.items.map(item => ({\r\n          id: item.id,\r\n          robotName: item.robotName,\r\n          stationName: item.stationName,\r\n          startTime: formatDateTime(item.startTime),\r\n          endTime: formatDateTime(item.endTime),\r\n          duration: calculateDuration(item.startTime, item.endTime),\r\n          energyConsumed: item.energyConsumed ? item.energyConsumed.toFixed(2) : '-',\r\n          efficiency: item.efficiency ? item.efficiency.toFixed(2) : '-',\r\n          status: item.status\r\n        }));\r\n        \r\n        this.filteredTableData = [...this.tableData];\r\n        this.totalItems = response.data.pagination.totalItems;\r\n      } catch (error) {\r\n        console.error('获取表格数据失败:', error);\r\n        this.$message.error('获取表格数据失败');\r\n      } finally {\r\n        this.tableLoading = false;\r\n      }\r\n    },\r\n    \r\n    // 获取筛选参数\r\n    getFilterParams() {\r\n      return {\r\n        startDate: this.dateRange[0] ? this.dateRange[0].toISOString() : null,\r\n        endDate: this.dateRange[1] ? this.dateRange[1].toISOString() : null,\r\n        stationIds: this.selectedStations.length > 0 ? this.selectedStations : null,\r\n        robotIds: this.selectedRobots.length > 0 ? this.selectedRobots : null\r\n      };\r\n    },\r\n    \r\n    // 处理图表切换\r\n    handleChartChange(chartType) {\r\n      const titles = {\r\n        efficiency: '充电效率趋势分析',\r\n        consumption: '能耗分布热力图',\r\n        utilization: '充电站利用率对比',\r\n        robot: '机器人充电行为分析',\r\n        peak: '充电高峰期分析'\r\n      };\r\n      \r\n      this.currentChartTitle = titles[chartType];\r\n      this.fetchChartData();\r\n    },\r\n    \r\n    // 处理搜索\r\n    handleSearch() {\r\n      if (!this.searchQuery) {\r\n        this.filteredTableData = [...this.tableData];\r\n        return;\r\n      }\r\n      \r\n      const query = this.searchQuery.toLowerCase();\r\n      this.filteredTableData = this.tableData.filter(item => \r\n        item.id.toString().includes(query) ||\r\n        item.robotName.toLowerCase().includes(query) ||\r\n        item.stationName.toLowerCase().includes(query) ||\r\n        item.status.toLowerCase().includes(query)\r\n      );\r\n    },\r\n    \r\n    // 分页处理\r\n    handleSizeChange(size) {\r\n      this.pageSize = size;\r\n      this.fetchTableData();\r\n    },\r\n    \r\n    handleCurrentChange(page) {\r\n      this.currentPage = page;\r\n      this.fetchTableData();\r\n    },\r\n    \r\n    // 状态样式\r\n    getStatusType(status) {\r\n      const types = {\r\n        'charging': 'warning',\r\n        'completed': 'success',\r\n        'failed': 'danger'\r\n      };\r\n      return types[status] || 'info';\r\n    },\r\n    \r\n    // 数据导出\r\n    exportData(type) {\r\n      const params = {\r\n        ...this.getFilterParams(),\r\n        exportType: type\r\n      };\r\n      \r\n      energyEfficiencyApi.exportData(params)\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement('a');\r\n          link.href = url;\r\n          link.setAttribute('download', `能效分析_${new Date().toISOString().split('T')[0]}.${type}`);\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        })\r\n        .catch(error => {\r\n          console.error('导出数据失败:', error);\r\n          this.$message.error('导出数据失败');\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.energy-efficiency-analysis {\r\n  padding: 20px;\r\n}\r\n\r\n.filter-container {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.date-picker, .station-filter, .robot-filter {\r\n  margin-right: 15px;\r\n  min-width: 200px;\r\n}\r\n\r\n.export-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.kpi-container {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.kpi-card {\r\n  text-align: center;\r\n  padding: 10px;\r\n}\r\n\r\n.kpi-title {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.kpi-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.kpi-change {\r\n  font-size: 12px;\r\n}\r\n\r\n.kpi-change.up {\r\n  color: #67c23a;\r\n}\r\n\r\n.kpi-change.down {\r\n  color: #f56c6c;\r\n}\r\n\r\n.chart-container {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.chart-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.chart-content {\r\n  position: relative;\r\n}\r\n\r\n.chart-item {\r\n  position: relative;\r\n}\r\n\r\n.chart {\r\n  height: 400px;\r\n  width: 100%;\r\n}\r\n\r\n.table-container {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.search-input {\r\n  width: 250px;\r\n}\r\n\r\n.pagination-container {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style> "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA,OAAO,KAAKA,OAAM,MAAO,SAAS;AAClC,OAAOC,mBAAkB,MAAO,wBAAwB;AACxD,SAASC,cAAc,EAAEC,iBAAgB,QAAS,kBAAkB;AAEpE,eAAe;EACbC,IAAI,EAAE,0BAA0B;EAChCC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACL;MACAC,SAAS,EAAE,CAAC,IAAIC,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAI,EAAC,GAAI,EAAC,GAAI,EAAC,GAAI,IAAI,CAAC,EAAE,IAAID,IAAI,CAAC,CAAC,CAAC;MAClFE,gBAAgB,EAAE,EAAE;MACpBC,cAAc,EAAE,EAAE;MAElB;MACAC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MAEV;MACAC,YAAY,EAAE,YAAY;MAC1BC,iBAAiB,EAAE,UAAU;MAC7BC,MAAM,EAAE;QACNC,UAAU,EAAE,IAAI;QAChBC,WAAW,EAAE,IAAI;QACjBC,WAAW,EAAE,IAAI;QACjBC,KAAK,EAAE,IAAI;QACXC,IAAI,EAAE;MACR,CAAC;MAED;MACAC,OAAO,EAAE,CACP;QAAEC,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAE,GAAG;QAAEC,MAAM,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,EAChE;QAAEJ,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAE,KAAK;QAAEC,MAAM,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,EAC/D;QAAEJ,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAE,GAAG;QAAEC,MAAM,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,EAChE;QAAEJ,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAE,KAAK;QAAEC,MAAM,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAO,CAAC,EACpE;QAAEJ,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAE,GAAG;QAAEC,MAAM,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAK,EAC/D;MAED;MACAC,SAAS,EAAE,EAAE;MACbC,iBAAiB,EAAE,EAAE;MACrBC,YAAY,EAAE,KAAK;MACnBC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,CAAC;MACdC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EAEDC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,QAAQ,CAAC,CAAC;EACjB,CAAC;EAEDC,OAAO,EAAE;IACDD,QAAQ,WAARA,QAAQA,CAAA,EAAG;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,gBAAA,EAAAC,cAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGkB/C,mBAAmB,CAACgD,WAAW,CAAC,CAAC;YAAA;cAA1DP,gBAAe,GAAAI,QAAA,CAAAI,IAAA;cACrBb,KAAI,CAAC1B,QAAO,GAAI+B,gBAAgB,CAACrC,IAAI;;cAErC;cAAAyC,QAAA,CAAAE,IAAA;cAAA,OAC6B/C,mBAAmB,CAACkD,SAAS,CAAC,CAAC;YAAA;cAAtDR,cAAa,GAAAG,QAAA,CAAAI,IAAA;cACnBb,KAAI,CAACzB,MAAK,GAAI+B,cAAc,CAACtC,IAAI;;cAEjC;cACAgC,KAAI,CAACe,YAAY,CAAC,CAAC;cACnBf,KAAI,CAACgB,cAAc,CAAC,CAAC;cACrBhB,KAAI,CAACiB,cAAc,CAAC,CAAC;cAAAR,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;cAErBU,OAAO,CAACC,KAAK,CAAC,UAAU,EAAAX,QAAA,CAAAS,EAAO,CAAC;cAChClB,KAAI,CAACqB,QAAQ,CAACD,KAAK,CAAC,YAAY,CAAC;YAAA;YAAA;cAAA,OAAAX,QAAA,CAAAa,IAAA;UAAA;QAAA,GAAAlB,OAAA;MAAA;IAErC,CAAC;IAED;IACAmB,gBAAgB,WAAhBA,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAACC,WAAW,CAAC,CAAC;IACpB,CAAC;IAEDC,mBAAmB,WAAnBA,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACD,WAAW,CAAC,CAAC;IACpB,CAAC;IAEDE,iBAAiB,WAAjBA,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACF,WAAW,CAAC,CAAC;IACpB,CAAC;IAED;IACAA,WAAW,WAAXA,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACT,YAAY,CAAC,CAAC;MACnB,IAAI,CAACC,cAAc,CAAC,CAAC;MACrB,IAAI,CAACC,cAAc,CAAC,CAAC;IACvB,CAAC;IAED;IACMF,YAAY,WAAZA,YAAYA,CAAA,EAAG;MAAA,IAAAY,MAAA;MAAA,OAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAyB,SAAA;QAAA,IAAAC,MAAA,EAAAC,QAAA;QAAA,OAAA5B,mBAAA,GAAAK,IAAA,UAAAwB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAtB,IAAA,GAAAsB,SAAA,CAAArB,IAAA;YAAA;cAAAqB,SAAA,CAAAtB,IAAA;cAEXmB,MAAK,GAAIF,MAAI,CAACM,eAAe,CAAC,CAAC;cAAAD,SAAA,CAAArB,IAAA;cAAA,OACd/C,mBAAmB,CAACsE,UAAU,CAACL,MAAM,CAAC;YAAA;cAAvDC,QAAO,GAAAE,SAAA,CAAAnB,IAAA;cAEbc,MAAI,CAAC3C,OAAM,GAAI,CACb;gBACEC,KAAK,EAAE,QAAQ;gBACfC,KAAK,EAAE4C,QAAQ,CAAC9D,IAAI,CAACmE,aAAa,CAACC,OAAO,CAAC,CAAC,CAAC;gBAC7CjD,IAAI,EAAE,GAAG;gBACTC,MAAM,EAAE0C,QAAQ,CAAC9D,IAAI,CAACqE,gBAAgB,CAACD,OAAO,CAAC,CAAC,CAAC;gBACjD/C,KAAK,EAAEyC,QAAQ,CAAC9D,IAAI,CAACqE,gBAAe,IAAK,IAAI,IAAG,GAAI;cACtD,CAAC,EACD;gBACEpD,KAAK,EAAE,KAAK;gBACZC,KAAK,EAAE4C,QAAQ,CAAC9D,IAAI,CAACsE,WAAW,CAACF,OAAO,CAAC,CAAC,CAAC;gBAC3CjD,IAAI,EAAE,KAAK;gBACXC,MAAM,EAAE0C,QAAQ,CAAC9D,IAAI,CAACuE,YAAY,CAACH,OAAO,CAAC,CAAC,CAAC;gBAC7C/C,KAAK,EAAEyC,QAAQ,CAAC9D,IAAI,CAACuE,YAAW,IAAK,IAAI,IAAG,GAAI;cAClD,CAAC,EACD;gBACEtD,KAAK,EAAE,QAAQ;gBACfC,KAAK,EAAE4C,QAAQ,CAAC9D,IAAI,CAACa,WAAW,CAACuD,OAAO,CAAC,CAAC,CAAC;gBAC3CjD,IAAI,EAAE,GAAG;gBACTC,MAAM,EAAE0C,QAAQ,CAAC9D,IAAI,CAACwE,iBAAiB,CAACJ,OAAO,CAAC,CAAC,CAAC;gBAClD/C,KAAK,EAAEyC,QAAQ,CAAC9D,IAAI,CAACwE,iBAAgB,IAAK,IAAI,IAAG,GAAI;cACvD,CAAC,EACD;gBACEvD,KAAK,EAAE,QAAQ;gBACfC,KAAK,EAAE4C,QAAQ,CAAC9D,IAAI,CAACyE,WAAW,CAACL,OAAO,CAAC,CAAC,CAAC;gBAC3CjD,IAAI,EAAE,KAAK;gBACXC,MAAM,EAAE0C,QAAQ,CAAC9D,IAAI,CAAC0E,cAAc,CAACN,OAAO,CAAC,CAAC,CAAC;gBAC/C/C,KAAK,EAAEyC,QAAQ,CAAC9D,IAAI,CAAC0E,cAAa,IAAK,IAAI,IAAG,GAAI;cACpD,CAAC,EACD;gBACEzD,KAAK,EAAE,OAAO;gBACdC,KAAK,EAAE4C,QAAQ,CAAC9D,IAAI,CAAC2E,WAAW,CAACP,OAAO,CAAC,CAAC,CAAC;gBAC3CjD,IAAI,EAAE,GAAG;gBACTC,MAAM,EAAE0C,QAAQ,CAAC9D,IAAI,CAAC4E,iBAAiB,CAACR,OAAO,CAAC,CAAC,CAAC;gBAClD/C,KAAK,EAAEyC,QAAQ,CAAC9D,IAAI,CAAC4E,iBAAgB,IAAK,IAAI,IAAG,GAAI;cACvD,EACD;cAAAZ,SAAA,CAAArB,IAAA;cAAA;YAAA;cAAAqB,SAAA,CAAAtB,IAAA;cAAAsB,SAAA,CAAAd,EAAA,GAAAc,SAAA;cAEDb,OAAO,CAACC,KAAK,CAAC,YAAY,EAAAY,SAAA,CAAAd,EAAO,CAAC;cAClCS,MAAI,CAACN,QAAQ,CAACD,KAAK,CAAC,WAAW,CAAC;YAAA;YAAA;cAAA,OAAAY,SAAA,CAAAV,IAAA;UAAA;QAAA,GAAAM,QAAA;MAAA;IAEpC,CAAC;IAED;IACMZ,cAAc,WAAdA,cAAcA,CAAA,EAAG;MAAA,IAAA6B,MAAA;MAAA,OAAA5C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAA2C,SAAA;QAAA,IAAAjB,MAAA;QAAA,OAAA3B,mBAAA,GAAAK,IAAA,UAAAwC,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAtC,IAAA,GAAAsC,SAAA,CAAArC,IAAA;YAAA;cAAAqC,SAAA,CAAAtC,IAAA;cAEbmB,MAAK,GAAIgB,MAAI,CAACZ,eAAe,CAAC,CAAC,EAErC;cAAAe,SAAA,CAAA9B,EAAA,GACQ2B,MAAI,CAACrE,YAAY;cAAAwE,SAAA,CAAArC,IAAA,GAAAqC,SAAA,CAAA9B,EAAA,KAClB,YAAY,OAAA8B,SAAA,CAAA9B,EAAA,KAGZ,aAAa,OAAA8B,SAAA,CAAA9B,EAAA,KAGb,aAAa,QAAA8B,SAAA,CAAA9B,EAAA,KAGb,OAAO,QAAA8B,SAAA,CAAA9B,EAAA,KAGP,MAAM;cAAA;YAAA;cAAA8B,SAAA,CAAArC,IAAA;cAAA,OAXHkC,MAAI,CAACI,qBAAqB,CAACpB,MAAM,CAAC;YAAA;cAAA,OAAAmB,SAAA,CAAAE,MAAA;YAAA;cAAAF,SAAA,CAAArC,IAAA;cAAA,OAGlCkC,MAAI,CAACM,sBAAsB,CAACtB,MAAM,CAAC;YAAA;cAAA,OAAAmB,SAAA,CAAAE,MAAA;YAAA;cAAAF,SAAA,CAAArC,IAAA;cAAA,OAGnCkC,MAAI,CAACO,sBAAsB,CAACvB,MAAM,CAAC;YAAA;cAAA,OAAAmB,SAAA,CAAAE,MAAA;YAAA;cAAAF,SAAA,CAAArC,IAAA;cAAA,OAGnCkC,MAAI,CAACQ,gBAAgB,CAACxB,MAAM,CAAC;YAAA;cAAA,OAAAmB,SAAA,CAAAE,MAAA;YAAA;cAAAF,SAAA,CAAArC,IAAA;cAAA,OAG7BkC,MAAI,CAACS,eAAe,CAACzB,MAAM,CAAC;YAAA;cAAA,OAAAmB,SAAA,CAAAE,MAAA;YAAA;cAAAF,SAAA,CAAArC,IAAA;cAAA;YAAA;cAAAqC,SAAA,CAAAtC,IAAA;cAAAsC,SAAA,CAAAO,EAAA,GAAAP,SAAA;cAItC7B,OAAO,CAACC,KAAK,CAAC,WAAW,EAAA4B,SAAA,CAAAO,EAAO,CAAC;cACjCV,MAAI,CAACxB,QAAQ,CAACD,KAAK,CAAC,UAAU,CAAC;YAAA;YAAA;cAAA,OAAA4B,SAAA,CAAA1B,IAAA;UAAA;QAAA,GAAAwB,QAAA;MAAA;IAEnC,CAAC;IAED;IACMG,qBAAqB,WAArBA,qBAAqBA,CAACpB,MAAM,EAAE;MAAA,IAAA2B,MAAA;MAAA,OAAAvD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAsD,SAAA;QAAA,IAAA3B,QAAA,EAAA4B,MAAA;QAAA,OAAAxD,mBAAA,GAAAK,IAAA,UAAAoD,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlD,IAAA,GAAAkD,SAAA,CAAAjD,IAAA;YAAA;cAAAiD,SAAA,CAAAjD,IAAA;cAAA,OACX/C,mBAAmB,CAACiG,kBAAkB,CAAChC,MAAM,CAAC;YAAA;cAA/DC,QAAO,GAAA8B,SAAA,CAAA/C,IAAA;cAEb,IAAI,CAAC2C,MAAI,CAAC9E,MAAM,CAACC,UAAU,EAAE;gBAC3B6E,MAAI,CAAC9E,MAAM,CAACC,UAAS,GAAIhB,OAAO,CAACmG,IAAI,CAACN,MAAI,CAACO,KAAK,CAACC,eAAe,CAAC;cACnE;cAEMN,MAAK,GAAI;gBACbzE,KAAK,EAAE;kBACLgF,IAAI,EAAE;gBACR,CAAC;gBACDC,OAAO,EAAE;kBACPC,OAAO,EAAE;gBACX,CAAC;gBACDC,MAAM,EAAE;kBACNpG,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACM,QAAQ,CAAC+F,GAAG,CAAC,UAAAC,OAAM;oBAAA,OAAKA,OAAO,CAACvG,IAAI;kBAAA;gBAC1D,CAAC;gBACDwG,IAAI,EAAE;kBACJC,IAAI,EAAE,IAAI;kBACVC,KAAK,EAAE,IAAI;kBACXC,MAAM,EAAE,IAAI;kBACZC,YAAY,EAAE;gBAChB,CAAC;gBACDC,KAAK,EAAE;kBACLC,IAAI,EAAE,UAAU;kBAChBC,WAAW,EAAE,KAAK;kBAClB9G,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAAC+G;gBACtB,CAAC;gBACDC,KAAK,EAAE;kBACLH,IAAI,EAAE,OAAO;kBACb9G,IAAI,EAAE,UAAU;kBAChBkH,GAAG,EAAE,EAAE;kBACPC,GAAG,EAAE;gBACP,CAAC;gBACDC,MAAM,EAAErD,QAAQ,CAAC9D,IAAI,CAACM,QAAQ,CAAC+F,GAAG,CAAC,UAAAC,OAAM;kBAAA,OAAM;oBAC7CvG,IAAI,EAAEuG,OAAO,CAACvG,IAAI;oBAClB8G,IAAI,EAAE,MAAM;oBACZ7G,IAAI,EAAEsG,OAAO,CAACc,cAAc;oBAC5BC,MAAM,EAAE;kBACV,CAAC;gBAAA,CAAC;cACJ,CAAC;cAED7B,MAAI,CAAC9E,MAAM,CAACC,UAAU,CAAC2G,SAAS,CAAC5B,MAAM,CAAC;YAAA;YAAA;cAAA,OAAAE,SAAA,CAAAtC,IAAA;UAAA;QAAA,GAAAmC,QAAA;MAAA;IAC1C,CAAC;IAED;IACMN,sBAAsB,WAAtBA,sBAAsBA,CAACtB,MAAM,EAAE;MAAA,IAAA0D,MAAA;MAAA,OAAAtF,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAqF,SAAA;QAAA,IAAA1D,QAAA,EAAA2D,KAAA,EAAAC,IAAA,EAAAhC,MAAA;QAAA,OAAAxD,mBAAA,GAAAK,IAAA,UAAAoF,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlF,IAAA,GAAAkF,SAAA,CAAAjF,IAAA;YAAA;cAAAiF,SAAA,CAAAjF,IAAA;cAAA,OACZ/C,mBAAmB,CAACiI,gCAAgC,CAAChE,MAAM,CAAC;YAAA;cAA7EC,QAAO,GAAA8D,SAAA,CAAA/E,IAAA;cAEb,IAAI,CAAC0E,MAAI,CAAC7G,MAAM,CAACE,WAAW,EAAE;gBAC5B2G,MAAI,CAAC7G,MAAM,CAACE,WAAU,GAAIjB,OAAO,CAACmG,IAAI,CAACyB,MAAI,CAACxB,KAAK,CAAC+B,gBAAgB,CAAC;cACrE;cAEML,KAAI,GAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;cAC9IC,IAAG,GAAI5D,QAAQ,CAAC9D,IAAI,CAAC0H,IAAI;cAEzBhC,MAAK,GAAI;gBACbzE,KAAK,EAAE;kBACLgF,IAAI,EAAE;gBACR,CAAC;gBACDC,OAAO,EAAE;kBACP6B,QAAQ,EAAE,KAAK;kBACfC,SAAS,EAAE,SAAXA,SAASA,CAAYnE,MAAM,EAAE;oBAC3B,UAAAoE,MAAA,CAAUpE,MAAM,CAAC7D,IAAI,CAAC,CAAC,CAAC,YAAAiI,MAAA,CAASpE,MAAM,CAAC7D,IAAI,CAAC,CAAC,IAAI,CAAC,2BAAAiI,MAAA,CAAcpE,MAAM,CAAC7D,IAAI,CAAC,CAAC,CAAC,wBAAAiI,MAAA,CAAWpE,MAAM,CAAC7D,IAAI,CAAC,CAAC,CAAC,CAACoE,OAAO,CAAC,CAAC,CAAC;kBACrH;gBACF,CAAC;gBACDmC,IAAI,EAAE;kBACJ2B,MAAM,EAAE,KAAK;kBACbC,GAAG,EAAE;gBACP,CAAC;gBACDvB,KAAK,EAAE;kBACLC,IAAI,EAAE,UAAU;kBAChB7G,IAAI,EAAEyH,KAAK;kBACXW,SAAS,EAAE;oBACTC,IAAI,EAAE;kBACR,CAAC;kBACDC,SAAS,EAAE;oBACTN,SAAS,EAAE;kBACb;gBACF,CAAC;gBACDhB,KAAK,EAAE;kBACLH,IAAI,EAAE,UAAU;kBAChB7G,IAAI,EAAE0H,IAAI;kBACVU,SAAS,EAAE;oBACTC,IAAI,EAAE;kBACR;gBACF,CAAC;gBACDE,SAAS,EAAE;kBACTtB,GAAG,EAAE,CAAC;kBACNC,GAAG,EAAEpD,QAAQ,CAAC9D,IAAI,CAACwI,QAAQ;kBAC3BC,UAAU,EAAE,IAAI;kBAChBC,MAAM,EAAE,YAAY;kBACpBlC,IAAI,EAAE,QAAQ;kBACdE,MAAM,EAAE,IAAI;kBACZiC,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS;gBACzC,CAAC;gBACDxB,MAAM,EAAE,CAAC;kBACPpH,IAAI,EAAE,UAAU;kBAChB8G,IAAI,EAAE,SAAS;kBACf7G,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACA,IAAI;kBACxB4I,KAAK,EAAE;oBACLP,IAAI,EAAE;kBACR,CAAC;kBACDQ,QAAQ,EAAE;oBACRC,SAAS,EAAE;sBACTC,UAAU,EAAE,EAAE;sBACdC,WAAW,EAAE;oBACf;kBACF;gBACF,CAAC;cACH,CAAC;cAEDzB,MAAI,CAAC7G,MAAM,CAACE,WAAW,CAAC0G,SAAS,CAAC5B,MAAM,CAAC;YAAA;YAAA;cAAA,OAAAkC,SAAA,CAAAtE,IAAA;UAAA;QAAA,GAAAkE,QAAA;MAAA;IAC3C,CAAC;IAED;IACMpC,sBAAsB,WAAtBA,sBAAsBA,CAACvB,MAAM,EAAE;MAAA,IAAAoF,MAAA;MAAA,OAAAhH,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAA+G,SAAA;QAAA,IAAApF,QAAA,EAAA4B,MAAA;QAAA,OAAAxD,mBAAA,GAAAK,IAAA,UAAA4G,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA1G,IAAA,GAAA0G,SAAA,CAAAzG,IAAA;YAAA;cAAAyG,SAAA,CAAAzG,IAAA;cAAA,OACZ/C,mBAAmB,CAACyJ,qBAAqB,CAACxF,MAAM,CAAC;YAAA;cAAlEC,QAAO,GAAAsF,SAAA,CAAAvG,IAAA;cAEb,IAAI,CAACoG,MAAI,CAACvI,MAAM,CAACG,WAAW,EAAE;gBAC5BoI,MAAI,CAACvI,MAAM,CAACG,WAAU,GAAIlB,OAAO,CAACmG,IAAI,CAACmD,MAAI,CAAClD,KAAK,CAACuD,gBAAgB,CAAC;cACrE;cAEM5D,MAAK,GAAI;gBACbzE,KAAK,EAAE;kBACLgF,IAAI,EAAE;gBACR,CAAC;gBACDC,OAAO,EAAE;kBACPC,OAAO,EAAE,MAAM;kBACfoD,WAAW,EAAE;oBACX1C,IAAI,EAAE;kBACR;gBACF,CAAC;gBACDT,MAAM,EAAE;kBACNpG,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;gBACvC,CAAC;gBACDuG,IAAI,EAAE;kBACJC,IAAI,EAAE,IAAI;kBACVC,KAAK,EAAE,IAAI;kBACXC,MAAM,EAAE,IAAI;kBACZC,YAAY,EAAE;gBAChB,CAAC;gBACDC,KAAK,EAAE;kBACLC,IAAI,EAAE,OAAO;kBACb9G,IAAI,EAAE,IAAI;kBACVmH,GAAG,EAAE;gBACP,CAAC;gBACDF,KAAK,EAAE;kBACLH,IAAI,EAAE,UAAU;kBAChB7G,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACqG,GAAG,CAAC,UAAAmD,IAAG;oBAAA,OAAKA,IAAI,CAACC,WAAW;kBAAA;gBAClD,CAAC;gBACDtC,MAAM,EAAE,CACN;kBACEpH,IAAI,EAAE,MAAM;kBACZ8G,IAAI,EAAE,KAAK;kBACX6C,KAAK,EAAE,OAAO;kBACdd,KAAK,EAAE;oBACLP,IAAI,EAAE;kBACR,CAAC;kBACDQ,QAAQ,EAAE;oBACRc,KAAK,EAAE;kBACT,CAAC;kBACD3J,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACqG,GAAG,CAAC,UAAAmD,IAAG;oBAAA,OAAKA,IAAI,CAACI,SAAS;kBAAA;gBAChD,CAAC,EACD;kBACE7J,IAAI,EAAE,MAAM;kBACZ8G,IAAI,EAAE,KAAK;kBACX6C,KAAK,EAAE,OAAO;kBACdd,KAAK,EAAE;oBACLP,IAAI,EAAE;kBACR,CAAC;kBACDQ,QAAQ,EAAE;oBACRc,KAAK,EAAE;kBACT,CAAC;kBACD3J,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACqG,GAAG,CAAC,UAAAmD,IAAG;oBAAA,OAAKA,IAAI,CAACK,SAAS;kBAAA;gBAChD,CAAC,EACD;kBACE9J,IAAI,EAAE,MAAM;kBACZ8G,IAAI,EAAE,KAAK;kBACX6C,KAAK,EAAE,OAAO;kBACdd,KAAK,EAAE;oBACLP,IAAI,EAAE;kBACR,CAAC;kBACDQ,QAAQ,EAAE;oBACRc,KAAK,EAAE;kBACT,CAAC;kBACD3J,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACqG,GAAG,CAAC,UAAAmD,IAAG;oBAAA,OAAKA,IAAI,CAACM,gBAAgB;kBAAA;gBACvD,CAAC,EACD;kBACE/J,IAAI,EAAE,MAAM;kBACZ8G,IAAI,EAAE,KAAK;kBACX6C,KAAK,EAAE,OAAO;kBACdd,KAAK,EAAE;oBACLP,IAAI,EAAE;kBACR,CAAC;kBACDQ,QAAQ,EAAE;oBACRc,KAAK,EAAE;kBACT,CAAC;kBACD3J,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACqG,GAAG,CAAC,UAAAmD,IAAG;oBAAA,OAAKA,IAAI,CAACO,UAAU;kBAAA;gBACjD;cAEJ,CAAC;cAEDd,MAAI,CAACvI,MAAM,CAACG,WAAW,CAACyG,SAAS,CAAC5B,MAAM,CAAC;YAAA;YAAA;cAAA,OAAA0D,SAAA,CAAA9F,IAAA;UAAA;QAAA,GAAA4F,QAAA;MAAA;IAC3C,CAAC;IAED;IACM7D,gBAAgB,WAAhBA,gBAAgBA,CAACxB,MAAM,EAAE;MAAA,IAAAmG,MAAA;MAAA,OAAA/H,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAA8H,SAAA;QAAA,IAAAnG,QAAA,EAAA4B,MAAA;QAAA,OAAAxD,mBAAA,GAAAK,IAAA,UAAA2H,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAzH,IAAA,GAAAyH,SAAA,CAAAxH,IAAA;YAAA;cAAAwH,SAAA,CAAAxH,IAAA;cAAA,OACN/C,mBAAmB,CAACwK,wBAAwB,CAACvG,MAAM,CAAC;YAAA;cAArEC,QAAO,GAAAqG,SAAA,CAAAtH,IAAA;cAEb,IAAI,CAACmH,MAAI,CAACtJ,MAAM,CAACI,KAAK,EAAE;gBACtBkJ,MAAI,CAACtJ,MAAM,CAACI,KAAI,GAAInB,OAAO,CAACmG,IAAI,CAACkE,MAAI,CAACjE,KAAK,CAACsE,UAAU,CAAC;cACzD;cAEM3E,MAAK,GAAI;gBACbzE,KAAK,EAAE;kBACLgF,IAAI,EAAE;gBACR,CAAC;gBACDC,OAAO,EAAE;kBACPC,OAAO,EAAE;gBACX,CAAC;gBACDC,MAAM,EAAE;kBACNpG,IAAI,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ;gBACnC,CAAC;gBACDuG,IAAI,EAAE;kBACJC,IAAI,EAAE,IAAI;kBACVC,KAAK,EAAE,IAAI;kBACXC,MAAM,EAAE,IAAI;kBACZC,YAAY,EAAE;gBAChB,CAAC;gBACDC,KAAK,EAAE,CACL;kBACEC,IAAI,EAAE,UAAU;kBAChB7G,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACO,MAAM,CAAC8F,GAAG,CAAC,UAAAvF,KAAI;oBAAA,OAAKA,KAAK,CAACf,IAAI;kBAAA,EAAC;kBACnDwJ,WAAW,EAAE;oBACX1C,IAAI,EAAE;kBACR;gBACF,EACD;gBACDG,KAAK,EAAE,CACL;kBACEH,IAAI,EAAE,OAAO;kBACb9G,IAAI,EAAE,IAAI;kBACVkH,GAAG,EAAE,CAAC;kBACNqB,SAAS,EAAE;oBACTN,SAAS,EAAE;kBACb;gBACF,CAAC,EACD;kBACEnB,IAAI,EAAE,OAAO;kBACb9G,IAAI,EAAE,SAAS;kBACfkH,GAAG,EAAE,CAAC;kBACNqB,SAAS,EAAE;oBACTN,SAAS,EAAE;kBACb;gBACF,EACD;gBACDb,MAAM,EAAE,CACN;kBACEpH,IAAI,EAAE,MAAM;kBACZ8G,IAAI,EAAE,KAAK;kBACX7G,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACO,MAAM,CAAC8F,GAAG,CAAC,UAAAvF,KAAI;oBAAA,OAAKA,KAAK,CAACwJ,aAAa;kBAAA;gBAC7D,CAAC,EACD;kBACEvK,IAAI,EAAE,QAAQ;kBACd8G,IAAI,EAAE,MAAM;kBACZ0D,UAAU,EAAE,CAAC;kBACbvK,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACO,MAAM,CAAC8F,GAAG,CAAC,UAAAvF,KAAI;oBAAA,OAAKA,KAAK,CAAC0J,mBAAmB;kBAAA;gBACnE,CAAC,EACD;kBACEzK,IAAI,EAAE,QAAQ;kBACd8G,IAAI,EAAE,MAAM;kBACZ0D,UAAU,EAAE,CAAC;kBACbvK,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACO,MAAM,CAAC8F,GAAG,CAAC,UAAAvF,KAAI;oBAAA,OAAKA,KAAK,CAAC2J,cAAc;kBAAA;gBAC9D;cAEJ,CAAC;cAEDT,MAAI,CAACtJ,MAAM,CAACI,KAAK,CAACwG,SAAS,CAAC5B,MAAM,CAAC;YAAA;YAAA;cAAA,OAAAyE,SAAA,CAAA7G,IAAA;UAAA;QAAA,GAAA2G,QAAA;MAAA;IACrC,CAAC;IAED;IACM3E,eAAe,WAAfA,eAAeA,CAACzB,MAAM,EAAE;MAAA,IAAA6G,MAAA;MAAA,OAAAzI,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAwI,SAAA;QAAA,IAAA7G,QAAA,EAAA4B,MAAA;QAAA,OAAAxD,mBAAA,GAAAK,IAAA,UAAAqI,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAnI,IAAA,GAAAmI,SAAA,CAAAlI,IAAA;YAAA;cAAAkI,SAAA,CAAAlI,IAAA;cAAA,OACL/C,mBAAmB,CAACkL,uBAAuB,CAACjH,MAAM,CAAC;YAAA;cAApEC,QAAO,GAAA+G,SAAA,CAAAhI,IAAA;cAEb,IAAI,CAAC6H,MAAI,CAAChK,MAAM,CAACK,IAAI,EAAE;gBACrB2J,MAAI,CAAChK,MAAM,CAACK,IAAG,GAAIpB,OAAO,CAACmG,IAAI,CAAC4E,MAAI,CAAC3E,KAAK,CAACgF,SAAS,CAAC;cACvD;cAEMrF,MAAK,GAAI;gBACbzE,KAAK,EAAE;kBACLgF,IAAI,EAAE;gBACR,CAAC;gBACDC,OAAO,EAAE;kBACPC,OAAO,EAAE,MAAM;kBACfoD,WAAW,EAAE;oBACX1C,IAAI,EAAE;kBACR;gBACF,CAAC;gBACDT,MAAM,EAAE;kBACNpG,IAAI,EAAE,CAAC,OAAO,EAAE,QAAQ;gBAC1B,CAAC;gBACDuG,IAAI,EAAE;kBACJC,IAAI,EAAE,IAAI;kBACVC,KAAK,EAAE,IAAI;kBACXC,MAAM,EAAE,IAAI;kBACZC,YAAY,EAAE;gBAChB,CAAC;gBACDC,KAAK,EAAE,CACL;kBACEC,IAAI,EAAE,UAAU;kBAChB7G,IAAI,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;kBACzGsI,SAAS,EAAE;oBACTN,SAAS,EAAE;kBACb;gBACF,EACD;gBACDhB,KAAK,EAAE,CACL;kBACEH,IAAI,EAAE,OAAO;kBACb9G,IAAI,EAAE,KAAK;kBACXkH,GAAG,EAAE,CAAC;kBACNqB,SAAS,EAAE;oBACTN,SAAS,EAAE;kBACb;gBACF,CAAC,EACD;kBACEnB,IAAI,EAAE,OAAO;kBACb9G,IAAI,EAAE,WAAW;kBACjBkH,GAAG,EAAE,CAAC;kBACNqB,SAAS,EAAE;oBACTN,SAAS,EAAE;kBACb;gBACF,EACD;gBACDb,MAAM,EAAE,CACN;kBACEpH,IAAI,EAAE,OAAO;kBACb8G,IAAI,EAAE,KAAK;kBACX7G,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACgL;gBACtB,CAAC,EACD;kBACEjL,IAAI,EAAE,QAAQ;kBACd8G,IAAI,EAAE,MAAM;kBACZ0D,UAAU,EAAE,CAAC;kBACbvK,IAAI,EAAE8D,QAAQ,CAAC9D,IAAI,CAACiL;gBACtB;cAEJ,CAAC;cAEDP,MAAI,CAAChK,MAAM,CAACK,IAAI,CAACuG,SAAS,CAAC5B,MAAM,CAAC;YAAA;YAAA;cAAA,OAAAmF,SAAA,CAAAvH,IAAA;UAAA;QAAA,GAAAqH,QAAA;MAAA;IACpC,CAAC;IAED;IACM1H,cAAc,WAAdA,cAAcA,CAAA,EAAG;MAAA,IAAAiI,MAAA;MAAA,OAAAjJ,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAgJ,SAAA;QAAA,IAAAtH,MAAA,EAAAC,QAAA;QAAA,OAAA5B,mBAAA,GAAAK,IAAA,UAAA6I,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA3I,IAAA,GAAA2I,SAAA,CAAA1I,IAAA;YAAA;cACrBuI,MAAI,CAAC1J,YAAW,GAAI,IAAI;cAAA6J,SAAA,CAAA3I,IAAA;cAEhBmB,MAAK,GAAAyH,aAAA,CAAAA,aAAA,KACNJ,MAAI,CAACjH,eAAe,CAAC,CAAC;gBACzBsH,IAAI,EAAEL,MAAI,CAACxJ,WAAW;gBACtBC,QAAQ,EAAEuJ,MAAI,CAACvJ,QAAQ;gBACvB6J,KAAK,EAAEN,MAAI,CAACzJ;cAAU;cAAA4J,SAAA,CAAA1I,IAAA;cAAA,OAGD/C,mBAAmB,CAAC6L,iBAAiB,CAAC5H,MAAM,CAAC;YAAA;cAA9DC,QAAO,GAAAuH,SAAA,CAAAxI,IAAA;cAEbqI,MAAI,CAAC5J,SAAQ,GAAIwC,QAAQ,CAAC9D,IAAI,CAAC0L,KAAK,CAACrF,GAAG,CAAC,UAAAmD,IAAG;gBAAA,OAAM;kBAChDmC,EAAE,EAAEnC,IAAI,CAACmC,EAAE;kBACXC,SAAS,EAAEpC,IAAI,CAACoC,SAAS;kBACzBnC,WAAW,EAAED,IAAI,CAACC,WAAW;kBAC7BoC,SAAS,EAAEhM,cAAc,CAAC2J,IAAI,CAACqC,SAAS,CAAC;kBACzCC,OAAO,EAAEjM,cAAc,CAAC2J,IAAI,CAACsC,OAAO,CAAC;kBACrCC,QAAQ,EAAEjM,iBAAiB,CAAC0J,IAAI,CAACqC,SAAS,EAAErC,IAAI,CAACsC,OAAO,CAAC;kBACzDE,cAAc,EAAExC,IAAI,CAACwC,cAAa,GAAIxC,IAAI,CAACwC,cAAc,CAAC5H,OAAO,CAAC,CAAC,IAAI,GAAG;kBAC1EzD,UAAU,EAAE6I,IAAI,CAAC7I,UAAS,GAAI6I,IAAI,CAAC7I,UAAU,CAACyD,OAAO,CAAC,CAAC,IAAI,GAAG;kBAC9D6H,MAAM,EAAEzC,IAAI,CAACyC;gBACf,CAAC;cAAA,CAAC,CAAC;cAEHf,MAAI,CAAC3J,iBAAgB,GAAA2K,kBAAA,CAAQhB,MAAI,CAAC5J,SAAS,CAAC;cAC5C4J,MAAI,CAACtJ,UAAS,GAAIkC,QAAQ,CAAC9D,IAAI,CAACmM,UAAU,CAACvK,UAAU;cAAAyJ,SAAA,CAAA1I,IAAA;cAAA;YAAA;cAAA0I,SAAA,CAAA3I,IAAA;cAAA2I,SAAA,CAAAnI,EAAA,GAAAmI,SAAA;cAErDlI,OAAO,CAACC,KAAK,CAAC,WAAW,EAAAiI,SAAA,CAAAnI,EAAO,CAAC;cACjCgI,MAAI,CAAC7H,QAAQ,CAACD,KAAK,CAAC,UAAU,CAAC;YAAA;cAAAiI,SAAA,CAAA3I,IAAA;cAE/BwI,MAAI,CAAC1J,YAAW,GAAI,KAAK;cAAA,OAAA6J,SAAA,CAAAe,MAAA;YAAA;YAAA;cAAA,OAAAf,SAAA,CAAA/H,IAAA;UAAA;QAAA,GAAA6H,QAAA;MAAA;IAE7B,CAAC;IAED;IACAlH,eAAe,WAAfA,eAAeA,CAAA,EAAG;MAChB,OAAO;QACLoI,SAAS,EAAE,IAAI,CAACpM,SAAS,CAAC,CAAC,IAAI,IAAI,CAACA,SAAS,CAAC,CAAC,CAAC,CAACqM,WAAW,CAAC,IAAI,IAAI;QACrEC,OAAO,EAAE,IAAI,CAACtM,SAAS,CAAC,CAAC,IAAI,IAAI,CAACA,SAAS,CAAC,CAAC,CAAC,CAACqM,WAAW,CAAC,IAAI,IAAI;QACnEE,UAAU,EAAE,IAAI,CAACpM,gBAAgB,CAACqM,MAAK,GAAI,IAAI,IAAI,CAACrM,gBAAe,GAAI,IAAI;QAC3EsM,QAAQ,EAAE,IAAI,CAACrM,cAAc,CAACoM,MAAK,GAAI,IAAI,IAAI,CAACpM,cAAa,GAAI;MACnE,CAAC;IACH,CAAC;IAED;IACAsM,iBAAiB,WAAjBA,iBAAiBA,CAACC,SAAS,EAAE;MAC3B,IAAMC,MAAK,GAAI;QACblM,UAAU,EAAE,UAAU;QACtBC,WAAW,EAAE,SAAS;QACtBC,WAAW,EAAE,UAAU;QACvBC,KAAK,EAAE,WAAW;QAClBC,IAAI,EAAE;MACR,CAAC;MAED,IAAI,CAACN,iBAAgB,GAAIoM,MAAM,CAACD,SAAS,CAAC;MAC1C,IAAI,CAAC5J,cAAc,CAAC,CAAC;IACvB,CAAC;IAED;IACA8J,YAAY,WAAZA,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC,IAAI,CAACrL,WAAW,EAAE;QACrB,IAAI,CAACF,iBAAgB,GAAA2K,kBAAA,CAAQ,IAAI,CAAC5K,SAAS,CAAC;QAC5C;MACF;MAEA,IAAMkK,KAAI,GAAI,IAAI,CAAC/J,WAAW,CAACsL,WAAW,CAAC,CAAC;MAC5C,IAAI,CAACxL,iBAAgB,GAAI,IAAI,CAACD,SAAS,CAAC0L,MAAM,CAAC,UAAAxD,IAAG;QAAA,OAChDA,IAAI,CAACmC,EAAE,CAACsB,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC1B,KAAK,KACjChC,IAAI,CAACoC,SAAS,CAACmB,WAAW,CAAC,CAAC,CAACG,QAAQ,CAAC1B,KAAK,KAC3ChC,IAAI,CAACC,WAAW,CAACsD,WAAW,CAAC,CAAC,CAACG,QAAQ,CAAC1B,KAAK,KAC7ChC,IAAI,CAACyC,MAAM,CAACc,WAAW,CAAC,CAAC,CAACG,QAAQ,CAAC1B,KAAK;MAAA,CAC1C,CAAC;IACH,CAAC;IAED;IACA2B,gBAAgB,WAAhBA,gBAAgBA,CAACC,IAAI,EAAE;MACrB,IAAI,CAACzL,QAAO,GAAIyL,IAAI;MACpB,IAAI,CAACnK,cAAc,CAAC,CAAC;IACvB,CAAC;IAEDoK,mBAAmB,WAAnBA,mBAAmBA,CAAC9B,IAAI,EAAE;MACxB,IAAI,CAAC7J,WAAU,GAAI6J,IAAI;MACvB,IAAI,CAACtI,cAAc,CAAC,CAAC;IACvB,CAAC;IAED;IACAqK,aAAa,WAAbA,aAAaA,CAACrB,MAAM,EAAE;MACpB,IAAMsB,KAAI,GAAI;QACZ,UAAU,EAAE,SAAS;QACrB,WAAW,EAAE,SAAS;QACtB,QAAQ,EAAE;MACZ,CAAC;MACD,OAAOA,KAAK,CAACtB,MAAM,KAAK,MAAM;IAChC,CAAC;IAED;IACAuB,UAAU,WAAVA,UAAUA,CAAC3G,IAAI,EAAE;MAAA,IAAA4G,MAAA;MACf,IAAM5J,MAAK,GAAAyH,aAAA,CAAAA,aAAA,KACN,IAAI,CAACrH,eAAe,CAAC,CAAC;QACzByJ,UAAU,EAAE7G;MAAG,EAChB;MAEDjH,mBAAmB,CAAC4N,UAAU,CAAC3J,MAAM,EAClC8J,IAAI,CAAC,UAAA7J,QAAO,EAAK;QAChB,IAAM8J,GAAE,GAAIC,MAAM,CAACC,GAAG,CAACC,eAAe,CAAC,IAAIC,IAAI,CAAC,CAAClK,QAAQ,CAAC9D,IAAI,CAAC,CAAC,CAAC;QACjE,IAAMiO,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QACxCF,IAAI,CAACG,IAAG,GAAIR,GAAG;QACfK,IAAI,CAACI,YAAY,CAAC,UAAU,8BAAApG,MAAA,CAAU,IAAI/H,IAAI,CAAC,CAAC,CAACoM,WAAW,CAAC,CAAC,CAACgC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAArG,MAAA,CAAIpB,IAAI,CAAE,CAAC;QACvFqH,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;QAC/BA,IAAI,CAACQ,KAAK,CAAC,CAAC;MACd,CAAC,UACK,CAAC,UAAArL,KAAI,EAAK;QACdD,OAAO,CAACC,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/BqK,MAAI,CAACpK,QAAQ,CAACD,KAAK,CAAC,QAAQ,CAAC;MAC/B,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}